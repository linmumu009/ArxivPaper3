# README 迭代经验与写作原则（可复用模板）

## 目标与边界
- README 先服务“能跑起来 + 能排查”，不追求完美叙事。
- 只写「对用户有操作价值」的信息；能从代码/默认行为自然推断的，不写。
- 任何“解释”都必须能落到：某个配置项 / 某个参数 / 某个输入输出 / 某段流程逻辑。

## 结构原则（推荐四段式）
1. 配置准备：只写“必须改/建议改”的配置项（不写环境、目录、依赖等杂项）。
2. 运行指令：两类就够——不带参数、带参数（给 2 个代表性示例）。
3. 项目结构：未稳定时占位，不硬写。
4. 代码流程：按执行顺序列出，每步写输入/输出/逻辑。

## 表达原则（精简且精准）
- 禁止“黑话箭头”：不写“命中→丢弃”，改写为“XXX 是什么（变量名），用于……，满足条件才进入下一步”。
- 每个术语第一次出现必须定义：例如 CORE、score、hits、窗口、桶等。
- 描述要“可验证”：读者能通过输出文件/日志/代码位置对照验证。

## 输入/输出写法（统一口径）
- 输入/输出不直接写变量名或文件名作为主体。
- 正确格式：
  - “代表的含义（括号里给文件名/目录/代码名）”
  - 例如：候选清单（`data/arxivList/<date>.md`）

## 配置说明的落地方式
- 配置段只做三件事：
  1) 列出需要改的 key
  2) 写清每个 key 的“作用脚本 + 含义”
  3) 必要时给“在哪里创建/获取”（链接/路径）
- 模型与提示词配置必须逐项解释：
  - base_url / model / temperature / max_tokens / concurrency / prompt 等一律表格化。
- 正则类配置必须说明“匹配对象是谁”：例如“标题+摘要（entry.title+entry.summary）”。

## 参数说明的落地方式
- 运行指令只保留：
  - `python app.py <pipeline>`（不带参数）
  - 2 个带参示例（覆盖最关键的两类：时区与门槛 / 抓取规模）
- 另给一张“可调参数表”：
  - 参数名 | 默认值 | 说明（1 行内）
- 对“当前版本未生效/预留”的参数要明确标注，避免误导。

## 流程段写作模板（每步三件套）
- 输入：上一步产物 + 本步依赖配置（都用“含义（位置）”格式）
- 输出：本步产物（含义（位置））
- 逻辑流程：用最少层级写清“怎么算 / 怎么筛 / 怎么归 / 怎么落盘”
  - 必须覆盖：窗口、过滤、计分、分桶、跳过/去重、落盘策略（若存在）

## 迭代方法（一步一步打磨到可用）
- 先写“能跑”的最小 README（结构 + 命令 + 流程大纲）。
- 再按用户问题逐条补齐：
  - 正则对象是谁？
  - 分数怎么算？
  - 时区/窗口怎么算？
  - 每个配置项是什么意思？
  - 输入输出的含义是否清晰？
- 每次只改一类问题：结构 → 运行 → 参数表 → 细节定义 → 术语统一 → 输出口径统一。

## 质量自检清单（发布前 1 分钟过一遍）
- [ ] 配置段是否只包含“需要改/需要补”的项？
- [ ] 是否明确了所有正则的匹配对象？
- [ ] 是否给出了 score/hits/桶/窗口 的精确定义？
- [ ] 运行指令是否只有“不带参 + 一个带两参数示例”？
- [ ] 是否有参数表（含默认值）？
- [ ] 每步输入/输出是否用“含义（位置）”格式？
- [ ] 是否避免了“→丢弃”这类口语化跳跃表达？
- [ ] 是否存在“未生效/不确定”的项？是否已明确标注？
